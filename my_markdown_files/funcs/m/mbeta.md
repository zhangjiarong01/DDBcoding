# mbeta

## 语法

`mbeta(Y, X, window, [minPeriods])`

窗口计算规则请参考：[mFunctions](../themes/mFunctions.md)

## 参数

**X** 是一个向量/矩阵/表/由等长向量组成的元组。其中，mmse, mslr 仅支持输入向量。

**Y** 是一个向量/矩阵/表/由等长向量组成的元组。其中，mmse, mslr 仅支持输入向量。

**window** 是大于等于 2 的正整型或 DURATION 标量。表示滑动窗口的长度。

注： 在流计算引擎中调用滑动窗口函数时，window 的上限为 102400。

**minPeriods** 是一个正整数。为滑动窗口中最少包含的观测值数据。

## 详情

在给定长度（以元素个数或时间长度衡量）的移动窗口中，计算 *Y* 在 *X* 上的回归系数的最小二乘估计。

## 例子

```
x=0.011 0.006 -0.008 0.012 -0.016 -0.023 0.018
y=0.016 0.009 -0.012 0.022 0.003 -0.056 0.002
mbeta(y, x, 5);
// output
[,,,,0.818182,1.692379,1.188532]

mbeta(y, x, 5, 3);
// output
[,,1.479381,1.594701,0.818182,1.692379,1.188532]
```

```
x1 = indexedSeries(date(2020.06.05)+1..7, x)
y1 = indexedSeries(date(2020.06.05)+1..7, y)
mbeta(y1, x1, 5d);
```

| label | col1 |
| --- | --- |
| 2020.06.06 |  |
| 2020.06.07 | 1.4 |
| 2020.06.08 | 1.4794 |
| 2020.06.09 | 1.5947 |
| 2020.06.10 | 0.8182 |
| 2020.06.11 | 1.6924 |
| 2020.06.12 | 1.1885 |

```
mbeta(y1, x1, 1w);
```

| label | col1 |
| --- | --- |
| 2020.06.06 |  |
| 2020.06.07 | 1.4 |
| 2020.06.08 | 1.4794 |
| 2020.06.09 | 1.5947 |
| 2020.06.10 | 0.8182 |
| 2020.06.11 | 1.6924 |
| 2020.06.12 | 1.2659 |

相关函数：[beta](../b/beta.md)

